(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{176:function(e,t,a){},177:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),i=a(20),s=a.n(i),o=(a(73),a(39)),c=a(4),l=a(6),m=a(8),d=a(7),h=a(9),p=a(10),u=a(40),g=a.n(u),w=a(21),b=a.n(w),v=a(2),f=a.n(v),y=a(62),C=a.n(y),j=a(63),_=a.n(j),E=a(1),O=function(e,t,a,n,r,i){var s,o=Math.min(e,t),c=Math.max(e,t),l=o+"_"+c;l in n?s=n[l]:(s={a:a[o],b:a[c],newEdgePoint:null,faces:[]},n[l]=s);s.faces.push(r),i[e].edges.push(s),i[t].edges.push(s)},x=function(e,t,a,n,r){return e.push(new E.Face3(t,a,n,void 0,void 0,r))},k=function(e,t,a){return a[Math.min(e,t)+"_"+Math.max(e,t)]},S=function(e,t,a,n){e.push([t.clone(),a.clone(),n.clone()])},N=function(e,t){return Math.abs(t-e)/2+Math.min(e,t)},P=function e(t,a,n,r){Object(c.a)(this,e),this.subdivisions=void 0===t?1:t,this.adjacent_weight=a,this.edge_point_weight=n,this.connecting_edges_weight=r};P.prototype.modify=function(e){(e=e.clone()).mergeVertices();for(var t=this.subdivisions,a=0;a<t;a++)this.subdivide(e);return e.computeFaceNormals(),e.computeVertexNormals(),e},P.prototype.subdivide=function(e){var t,a,n=e.vertices,r=e.faces,i=e.faceVertexUvs[0],s=[],o=new E.Vector3,c=void 0!==i&&i.length>0,l=new Array(n.length),m={};!function(e,t,a,n){for(var r=0;r<e.length;r++)a[r]={edges:[]};for(var i=0;i<t.length;i++)O(t[i].a,t[i].b,e,n,t[i],a),O(t[i].b,t[i].c,e,n,t[i],a),O(t[i].c,t[i].a,e,n,t[i],a)}(n,r,l,m);var d,h,p,u,g,w,b,v,f,y,C=[],j=this.adjacent_weight,_=this.edge_point_weight,P=["a","b","c"];for(var I in m){p=m[I],h=new E.Vector3,g=p.faces.length,h.addVectors(p.a,p.b).multiplyScalar(_),o.set(0,0,0);for(var D=0;D<g;D++){u=p.faces[D];for(var L=0;L<3&&((d=n[u[P[L]]])===p.a||d===p.b);L++);o.add(d)}o.multiplyScalar(j),h.add(o),p.newEdgePoint=C.length,C.push(h)}for(var M,G,H,T=[],A=0;A<n.length;A++){f=n[A],v=l[A].edges;var F=this.connecting_edges_weight;H=M=3/(8*F),G=1-F*M,y=f.clone().multiplyScalar(G),o.set(0,0,0);for(var V=0;V<F;V++)b=(w=v[V]).a!==f?w.a:w.b,o.add(b);o.multiplyScalar(H),y.add(o),T.push(y)}t=T.concat(C);var z,W,B,R,U,J,q,K=T.length;a=[];for(var Q=new E.Vector2,X=new E.Vector2,Y=new E.Vector2,Z=0;Z<r.length;Z++)u=r[Z],z=k(u.a,u.b,m).newEdgePoint+K,W=k(u.b,u.c,m).newEdgePoint+K,B=k(u.c,u.a,m).newEdgePoint+K,x(a,z,W,B),x(a,u.a,z,B),x(a,u.b,W,z),x(a,u.c,B,W),c&&(U=(R=i[Z])[0],J=R[1],q=R[2],Q.set(N(U.x,J.x),N(U.y,J.y)),X.set(N(J.x,q.x),N(J.y,q.y)),Y.set(N(U.x,q.x),N(U.y,q.y)),S(s,Q,X,Y),S(s,U,Q,Y),S(s,J,X,Q),S(s,q,Y,X));e.vertices=t,e.faces=a,c&&(e.faceVertexUvs[0]=s)};var I,D,L,M,G,H,T,A=P,F=a(64),V=a(178),z=a(77)(E),W=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(m.a)(this,Object(d.a)(t).call(this,e))).start=function(){a.frameId||(a.frameId=requestAnimationFrame(a.update))},a.stop=function(){cancelAnimationFrame(a.frameId)},a.update=function(){a.renderer.render(a.scene,a.camera),a.controls.update(),a.frameId=window.requestAnimationFrame(a.update)},a.handleResize=function(){var e=a.mount.clientWidth,t=a.mount.clientHeight;a.renderer.setSize(e,t),a.camera.aspect=e/t,a.camera.updateProjectionMatrix()},a.getGeometry=function(e,t){var n;switch(a.props.geometry){case"Cone":n=new E.ConeGeometry(e,t);break;case"Cube":n=new E.BoxGeometry(e,t);break;case"Cylinder":n=new E.CylinderGeometry(e,t);break;case"Dodecahedron":n=new E.DodecahedronGeometry(e,t);break;case"Icosahedron":n=new E.IcosahedronGeometry(e,t);break;case"Octahedron":n=new E.OctahedronGeometry(e,t);break;case"Tetrahedron":n=new E.TetrahedronGeometry(e,t);break;case"Torus":n=new E.TorusGeometry(e,t);break;default:n=new E.BoxGeometry(e,t)}return n},a.getPlane=function(e,t){var a=new E.PlaneBufferGeometry(e,t),n=new E.MeshPhongMaterial({side:E.DoubleSide});n.color.setHex(16768515);var r=new E.Mesh(a,n);return r.rotation.x=-1.5708,r.position.y=-2,r.receiveShadow=!0,r},a.generateSubdivision=function(e){var t=new A(a.props.subdivisions,a.props.adjacent_weight,a.props.edge_point_weight,a.props.connecting_edges_weight),n=new E.MeshPhongMaterial({wireframe:a.props.wireframe});n.color.setHex(16712294);var r=e.parameters;r.scale&&e.scale(r.scale,r.scale,r.scale),H=t.modify(e);var i=new E.Mesh(H,n);return i.scale.setScalar(r.meshScale?r.meshScale:1),i.name="".concat(a.props.geometry),i.castShadow=!0,i.receiveShadow=!1,i},a.export=function(e){var t=V.fromGeometry(e),a=new Blob([t],{type:V.mimeType});Object(F.saveAs)(a,"shape.stl")},a.getGeometry=a.getGeometry.bind(Object(p.a)(Object(p.a)(a))),a.generateSubdivision=a.generateSubdivision.bind(Object(p.a)(Object(p.a)(a))),a}return Object(h.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=window.innerWidth,t=window.innerHeight;(I=new E.Scene).background=new E.Color(16768515),(D=new E.PerspectiveCamera(75,e/t,1,1e3)).position.z=3,D.position.y=1,D.lookAt(new E.Vector3(0,0,0));var a=new E.HemisphereLight(16777215,16777215,.6);a.position.set(0,100,0),I.add(a);var n=new E.HemisphereLightHelper(a,10);I.add(n);var r=new E.DirectionalLight(16777215,.4);r.position.set(-.5,1.75,.5),r.position.multiplyScalar(50),r.castShadow=!0,I.add(r),r.shadow.mapSize.width=2048,r.shadow.mapSize.height=2048,r.shadow.camera.near=.5,r.shadow.camera.far=500;var i=new E.DirectionalLightHelper(r,10);I.add(i);var s=this.getPlane(1e3,1e3);I.add(s),T=this.getGeometry(1),G=this.generateSubdivision(T),I.add(G),(L=new E.WebGLRenderer({antialias:!0})).setSize(e,t),L.shadowMap.enabled=!0,L.shadowMap.type=E.PCFSoftShadowMap,(M=new z(D,L.domElement)).enablePan=!1,M.enableKeys=!1,M.enableDamping=!0,M.dampingFactor=.05,M.rotateSpeed=.1,M.maxDistance=5,M.minDistance=2,M.maxPolarAngle=1.8,window.addEventListener("resize",this.handleResize),this.scene=I,this.camera=D,this.renderer=L,this.controls=M,this.shape=G,this.mount.appendChild(this.renderer.domElement),this.start()}},{key:"componentDidUpdate",value:function(e){this.props!==e&&(I.remove(G),G.geometry.dispose(),G.material.dispose(),T=this.getGeometry(1),(G=this.generateSubdivision(T)).material.wireframe=this.props.wireframe,I.add(G)),this.props.exportClicked!==e.exportClicked&&this.export(G.geometry)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize"),this.stop(),this.mount.removeChild(this.renderer.domElement)}},{key:"render",value:function(){var e=this;return r.a.createElement("main",{className:"canvas",ref:function(t){e.mount=t}})}}]),t}(n.Component),B=a(65),R=a.n(B),U=a(41),J=a.n(U),q=function(e){function t(){return Object(c.a)(this,t),Object(m.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement(v.ListItem,{className:"drawer-list-item"},r.a.createElement(v.ListItemText,{primaryText:this.props.name}),r.a.createElement(v.ListItemMeta,{meta:r.a.createElement(J.a,{className:"radio-alternate",wrapperClasses:"mdc-list-item__meta"},r.a.createElement(U.NativeRadioControl,{name:"geometry",value:this.props.name,id:this.props.name,onChange:this.props.onChange}))}))}}]),t}(n.Component),K=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(m.a)(this,Object(d.a)(t).call(this,e))).state={checked:!1},a}return Object(h.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this,t=[{name:"Cone",image:"http://showcase.iadt.ie/assets/CC3/Headshot/N00153748_Profile.jpg"},{name:"Cube",image:"http://showcase.iadt.ie/assets/CC3/Headshot/N00153748_Profile.jpg"},{name:"Cylinder",image:"http://showcase.iadt.ie/assets/CC3/Headshot/N00150552_Profile.jpg"},{name:"Dodecahedron",image:"http://showcase.iadt.ie/assets/CC3/Headshot/N00150552_Profile.jpg"},{name:"Icosahedron",image:"http://showcase.iadt.ie/assets/CC3/Headshot/N00150552_Profile.jpg"},{name:"Octahedron",image:"http://showcase.iadt.ie/assets/CC3/Headshot/N00153748_Profile.jpg"},{name:"Tetrahedron",image:"http://showcase.iadt.ie/assets/CC3/Headshot/N00152737_Profile.jpg"},{name:"Torus",image:"http://showcase.iadt.ie/assets/CC3/Headshot/N00153748_Profile.jpg"}].map(function(t){return r.a.createElement(q,{key:t.name,name:t.name,image:t.image,onChange:e.props.onChange})});return r.a.createElement(r.a.Fragment,null,t,r.a.createElement(v.ListItem,{className:"drawer-list-item"},r.a.createElement(v.ListItemText,{primaryText:"Wireframe"}),r.a.createElement(v.ListItemMeta,{meta:r.a.createElement(R.a,{className:"checkbox-alternate",name:"wireframe",checked:this.state.checked,value:this.state.checked,onChange:this.props.onChange})})))}}]),t}(n.Component),Q=a(66),X=a.n(Q),Y=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(m.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).state={value:0},a}return Object(h.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(v.ListItem,{className:"drawer-list-item"},r.a.createElement(v.ListItemText,{primaryText:this.props.label}),r.a.createElement(v.ListItemMeta,{meta:"".concat(this.props.value)})),r.a.createElement(v.ListItem,{id:this.props.name,className:"drawer-slider"},r.a.createElement(X.a,{classes:{thumb:"drawer-slider-material",trackBefore:"drawer-slider-material"},min:this.props.min,max:this.props.max,step:this.props.step,value:this.props.value,"aria-labelledby":"label",onChange:this.props.onChange})))}}]),t}(r.a.Component),Z=function(e){function t(){return Object(c.a)(this,t),Object(m.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this,t=[{label:"Subdivisions",name:"subdivisions",value:this.props.subdivisions,min:0,max:5,step:1},{label:"Adjacent Weight",name:"adjacent_weight",value:this.props.adjacent_weight,min:0,max:1,step:null},{label:"Edge-Point Weight",name:"edge_point_weight",value:this.props.edge_point_weight,min:0,max:1,step:null},{label:"Connecting Edges Weight",name:"connecting_edges_weight",value:this.props.connecting_edges_weight,min:1,max:7,step:1}].map(function(t){return r.a.createElement(Y,{key:t.name,label:t.label,name:t.name,value:t.value,onChange:e.props.onChange,min:t.min,max:t.max,step:t.step})});return r.a.createElement(r.a.Fragment,null,t)}}]),t}(n.Component),$=(a(176),function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(m.a)(this,Object(d.a)(t).call(this,e))).toggleDrawer=function(){a.setState(function(e){return{drawerOpen:!e.drawerOpen}})},a.handleChange=function(e,t){var n=e.target.id,r="checkbox"===e.target.type?"wireframe":e.target.name,i="checkbox"===e.target.type?e.target.checked:e.target.value;a.setState(Object(o.a)({},r,i)),(t||0===t)&&a.setState(Object(o.a)({},n,t))},a.handleClick=function(){a.setState(function(e){return{exportClicked:e.exportClicked+1}})},a.state={drawerOpen:!0,exportClicked:!1,geometry:"Cube",wireframe:!1,subdivisions:0,adjacent_weight:.125,edge_point_weight:.375,connecting_edges_weight:5},a.toggleDrawer=a.toggleDrawer.bind(Object(p.a)(Object(p.a)(a))),a.handleClick=a.handleClick.bind(Object(p.a)(Object(p.a)(a))),a}return Object(h.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"drawer-container"},r.a.createElement(b.a,{className:"drawer-alternate",dismissible:!0,open:this.state.drawerOpen},r.a.createElement(w.DrawerHeader,{className:"drawer-title"},r.a.createElement(w.DrawerTitle,{tag:"h2"},"Menu")),r.a.createElement(w.DrawerContent,null,r.a.createElement(v.ListGroup,null,r.a.createElement(f.a,{nonInteractive:!0},r.a.createElement(K,{geometry:this.state.geometry,wireframe:this.state.wireframe,onChange:this.handleChange})),r.a.createElement(v.ListDivider,{className:"drawer-divider"}),r.a.createElement(f.a,{nonInteractive:!0},r.a.createElement(Z,{subdivisions:this.state.subdivisions,adjacent_weight:this.state.adjacent_weight,edge_point_weight:this.state.edge_point_weight,connecting_edges_weight:this.state.connecting_edges_weight,onChange:this.handleChange})),r.a.createElement(v.ListDivider,{className:"drawer-divider"}),r.a.createElement(f.a,{nonInteractive:!0},r.a.createElement(v.ListItem,{className:"drawer-list-item"},r.a.createElement(C.a,{className:"button-alternate-clear",outlined:!0,onClick:this.handleClick},"Download .stl")))))),r.a.createElement(w.DrawerAppContent,{className:"drawer-app-content"},r.a.createElement(g.a,{title:"Generative Jewellery",className:"top-app-bar-alternate",navigationIcon:r.a.createElement(_.a,{icon:"menu",onClick:this.toggleDrawer})}),r.a.createElement(u.TopAppBarFixedAdjust,null,r.a.createElement(W,{geometry:this.state.geometry,subdivisions:this.state.subdivisions,adjacent_weight:this.state.adjacent_weight,edge_point_weight:this.state.edge_point_weight,connecting_edges_weight:this.state.connecting_edges_weight,wireframe:this.state.wireframe,exportClicked:this.state.exportClicked}))))}}]),t}(n.Component));s.a.render(r.a.createElement($,null),document.getElementById("root"))},68:function(e,t,a){e.exports=a(177)},73:function(e,t,a){}},[[68,1,2]]]);
//# sourceMappingURL=main.ee0d0a48.chunk.js.map